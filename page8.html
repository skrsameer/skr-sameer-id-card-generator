<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SKR SAMEER ID CARD</title>
  <link rel="stylesheet" href="page8.css" />
  
  <!-- html2canvas लाइब्रेरी -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="page8.js"></script>
</head>
<body>
  <!-- Home Button -->
  <button class="home-btn" onclick="window.location.href='page3.html'">Home</button>
  
  <!-- ID Card Wrapper -->
  <div class="card-wrapper">
    <div class="id-card" id="idCard">

      <!-- Session Ribbon -->
      <div class="session">
        SESSION: <span id="session">2024-25</span>
      </div>

      <!-- Photo -->
      <div class="photo-section">
        <img id="profilePhoto" src="" alt="Student Photo" />
      </div>

      <!-- Student Name -->
      <div class="student-name" id="studentName">Student Name</div>

      <!-- Student Details -->
      <div class="student-details">
        <p>Class : <span id="studentClass">N/A</span> / Roll : <span id="studentRoll">N/A</span></p>
        <p>Father’s Name : <span id="fatherName">N/A</span></p>
        <p>Date Of Birth : <span id="dob">N/A</span></p>
        <p>Gender : <span id="gender">N/A</span></p>
        <p>Phone : <span id="phone">N/A</span></p>
        <p>Address : At : <span id="village">N/A</span>, P.O. <span id="post">N/A</span></p>
        <p>Dist. <span id="district">N/A</span>, Pin - <span id="pincode">N/A</span></p>
      </div>

      <!-- School phone no -->
      <div class="school-phone-no">
        +91 <span id="school-phone-no">N/A</span>
      </div>
    </div>

    <button class="download-btn" id="downloadBtn">Download ID Card</button>
  </div>

  <!-- Footer -->
<div class="footer">
      This Website is Created by SKR SAMEER
      <div class="social-links">
        <a href="https://youtube.com/@desi_star_0.2?si=ck4Q68-lBtCoTaBY" target="_blank">YouTube</a>
        <a href="https://www.instagram.com/official_skr_sameer_01" target="_blank">Instagram</a>
        <a href="https://www.facebook.com/0HyperGenAi" target="_blank">Facebook</a>
      </div>
    </div>

  <!-- Scripts -->
  <script>
    function loadFormData() {
      document.getElementById("studentName").textContent = localStorage.getItem("name") || "N/A";
      document.getElementById("studentClass").textContent = localStorage.getItem("class") || "N/A";
      document.getElementById("studentRoll").textContent = localStorage.getItem("roll") || "N/A";
      document.getElementById("dob").textContent = localStorage.getItem("dob") || "N/A";
      document.getElementById("gender").textContent = localStorage.getItem("gender") || "N/A";
      document.getElementById("fatherName").textContent = localStorage.getItem("father") || "N/A";
      document.getElementById("phone").textContent = localStorage.getItem("phone") || "N/A";
      document.getElementById("village").textContent = localStorage.getItem("village") || "N/A";
      document.getElementById("post").textContent = localStorage.getItem("post") || "N/A";
      document.getElementById("district").textContent = localStorage.getItem("district") || "N/A";
      document.getElementById("pincode").textContent = localStorage.getItem("pincode") || "N/A";
      document.getElementById("session").textContent = localStorage.getItem("session") || "2024-25";
      document.getElementById("school-phone-no").textContent = localStorage.getItem("schoolPhone") || "0000000000";

      const photo = localStorage.getItem("photo");
      if (photo) {
        const img = document.getElementById("profilePhoto");
        img.src = photo;
        img.style.opacity = "1";
        img.style.animation = "none";
      }
    }

    // ✅ Download as PNG
    async function downloadCard() {
      const card = document.getElementById("idCard");

      // Hide animations for capture
      document.querySelectorAll(".student-details p").forEach(p => {
        p.style.animation = "none";
        p.style.opacity = "1";
      });
      const img = document.getElementById("profilePhoto");
      img.style.animation = "none";
      img.style.opacity = "1";

      const canvas = await html2canvas(card, {
        scale: 3,
        useCORS: true
      });

      const link = document.createElement("a");
      link.download = "ID_Card.png";
      link.href = canvas.toDataURL("image/png");
      link.click();
    }

    window.onload = loadFormData;
  </script>
</body>
</html>